var Setting =
    [
        { // 3.20新增
            "YT_ID": "Lr02dZdVZz0",
            "Title": "▶國語班長APP",
            "Text": "滿足聽說讀寫練習的自學APP，AI批改成績，一站式完成練習",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "低年級"
        },
        {
            "YT_ID": "0es4xnVrIOw",
            "Title": "▶注音符號動畫",
            "Text": "透過生動可愛的注音符號擬人動畫，易混淆注音難不倒，輕鬆掌握發音訣竅！",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "低年級"
        },
        {
            "YT_ID": "fnHh9VWDccM",
            "Title": "▶授權動畫",
            "Text": "累計250+支人氣授權動畫，陪孩子輕鬆累積識字量！",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "低年級"
        },
        {
            "YT_ID": "jRUoc2SJOno",
            "Title": "▶標點符號動畫",
            "Text": "透過動畫認識標點符號，打下閱讀寫作扎實基礎！",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "低年級"
        },

        { // 3.20新增
            "YT_ID": "QGCr4sXQXk0",
            "Title": "▶圖片產生器(網頁版)",
            "Text": "滿足教學情境的自製素材，豐富類別輕鬆匯出圖片！",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "低年級"
        },
        {
            "YT_ID": "uGUWSZTyRqo",
            "Title": "▶章頭動畫",
            "Text": "搭配繪本故事提升趣味，融入數學概念引導出單元概念。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "低年級"
        },
        {
            "YT_ID": "_jACBBj6m3Y",
            "Title": "▶動態圖解",
            "Text": "搭配計算題獨家製作，解題聚焦提升學習力。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "低年級"
        },
        {
            "YT_ID": "pTwQ_zUFrZ0",
            "Title": "▶布題解說",
            "Text": "搭配每一個例題全製作，從解題到統整全都有。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "低年級"
        },
        {
            "YT_ID": "UsoZfZD-Q5U",
            "Title": "▶互動附件",
            "Text": "互動搭配多元題型設計、附件配合需操作附件的題目，大螢幕操作最方便。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "低年級"
        },
        {
            "YT_ID": "By6yMiZk8nY",
            "Title": "▶數學工具",
            "Text": "含花片、錢幣、分數板等多樣實用工具，課本頁面對應放置，方便即時使用。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "低年級"
        },

        {
            "YT_ID": "1-xC1P3vn0E",
            "Title": "▶章頭動畫",
            "Text": "理解主題核心觀念。",
            "TabImg": "img/bookmark013.png",
            "TabImg_Active": "img/bookmark023.png",
            "TabType": "生活",
            "Type": "低年級"
        },
        {
            "YT_ID": "mTAWO0xjcuw",
            "Title": "▶技法",
            "Text": "動手做美勞，學會留下落葉美麗的紋路。",
            "TabImg": "img/bookmark013.png",
            "TabImg_Active": "img/bookmark023.png",
            "TabType": "生活",
            "Type": "低年級"
        },
        {
            "YT_ID": "BJmC0iYhfrA",
            "Title": "▶律動",
            "Text": "校園安全要注意，律動唱跳真開心。",
            "TabImg": "img/bookmark013.png",
            "TabImg_Active": "img/bookmark023.png",
            "TabType": "生活",
            "Type": "低年級"
        },
        {
            "YT_ID": "kfyWIFOWU_4",
            "Title": "▶教學影片",
            "Text": "影片加上動畫，磁鐵動起來。",
            "TabImg": "img/bookmark013.png",
            "TabImg_Active": "img/bookmark023.png",
            "TabType": "生活",
            "Type": "低年級"
        },
        { // 3.20新增
            "YT_ID": "Lr02dZdVZz0",
            "Title": "▶國語班長APP",
            "Text": "滿足聽說讀寫練習的自學APP，AI批改成績，一站式完成練習",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "中年級"
        },
        {
            "YT_ID": "SB0ECRbs7A0",
            "Title": "▶寫作動畫",
            "Text": "如何寫人？如何寫景？如何敘事？寫作動畫帶學生掌握不同文體的寫作技巧！",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "中年級"
        },
        {
            "YT_ID": "Z_J16udiw2w",
            "Title": "▶語文天地動畫",
            "Text": "必學語文常識、閱讀策略、寫作技巧通通有，影音學習加深印象！",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "中年級"
        },
        // { // 3.11移除
        //     "YT_ID": "Ub8RUpmCVS4",
        //     "Title": "▶互動遊戲",
        //     "Text": "部件造字、形音義小遊戲，南一獨家自製語文遊戲等你來挑戰！",
        //     "TabImg": "img/bookmark011.png",
        //     "TabImg_Active": "img/bookmark021.png",
        //     "TabType": "國語",
        //     "Type": "中年級"
        // },

        { //3.20新增
            "YT_ID": "QGCr4sXQXk0",
            "Title": "▶圖片產生器(網頁版)",
            "Text": "滿足教學情境的自製素材，豐富類別輕鬆匯出圖片！",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "中年級"
        } ,
        { //3.20新增
            "YT_ID": "cMI3KiOlF5M",
            "Title": "▶數學工具-統計圖",
            "Text": "人性化操作模式，自訂數據最便利！",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "中年級"
        } ,
        {
            "YT_ID": "UMZu27MxbGs",
            "Title": "▶章頭動畫",
            "Text": "搭配章頭主題補充延伸知識，融入先備單元內容，帶出單元概念。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "中年級"
        } ,
        {
            "YT_ID": "I__WE-hUAFQ",
            "Title": "▶動態圖解",
            "Text": "搭配計算題獨家製作，解題聚焦提升學習力。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "中年級"
        },
        {
            "YT_ID": "XJA46S2Qrv0",
            "Title": "▶布題解說",
            "Text": "搭配每一個例題全製作，從解題到統整全都有。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "中年級"
        },
        {
            "YT_ID": "o99_M72X1YI",
            "Title": "▶互動附件",
            "Text": "互動搭配多元題型設計、附件配合需操作附件的題目，大螢幕展示操作最方便。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "中年級"
        },
        {
            "YT_ID": "g7OJ_qkC3lk",
            // "Title": "▶數學工具",
            "Title": "▶GGB", // 3.2修改
            // "Text": "111下搭配新綱4年級全新製作角度與形狀、複合體積，幾何教學好簡單。",
            "Text": "搭配新綱4年級全新製作複合體積，幾何教學好簡單。", // 3.2修改
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "中年級"
        },

        { //3.20新增
            "YT_ID": "Lr02dZdVZz0",
            "Title": "▶寫國語班長APP",
            "Text": "滿足聽說讀寫練習的自學APP，AI批改成績，一站式完成練習",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "高年級"
        },
        {
            // "YT_ID": "LChTHm7jkCc",
            "YT_ID": "2abn54B2avA",// 3.20修改
            "Title": "▶寫作動畫",
            "Text": "寫作如何讀懂題目、挑選素材、展開聯想？透過動畫有效加強寫作力！",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "高年級"
        },
        {
            // "YT_ID": "Ub8RUpmCVS4",
            "YT_ID": "ohsUUoWN-Rs", // 3.2修改
            "Title": "▶語文天地動畫",
            "Text": "必學語文常識、閱讀策略、寫作技巧通通有，影音學習加深印象！",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "高年級"
        },
        {
            "YT_ID": "7yZAYiQG7W8",
            "Title": "▶修辭高手",
            "Text": "八大必須修辭一次掌握，趣味小遊戲讓孩子愛上修辭！",
            "TabImg": "img/bookmark011.png",
            "TabImg_Active": "img/bookmark021.png",
            "TabType": "國語",
            "Type": "高年級"
        },

        { //3.20新增
            "YT_ID": "QGCr4sXQXk0",
            "Title": "▶圖片產生器(網頁版)",
            "Text": "滿足教學情境的自製素材，豐富類別輕鬆匯出圖片！",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "高年級"
        } ,
        { //3.20新增
            "YT_ID": "cMI3KiOlF5M",
            "Title": "▶數學工具-統計圖",
            "Text": "人性化操作模式，自訂數據最便利！",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "高年級"
        } ,
        {
            "YT_ID": "GmN5iQY8H_Q",
            "Title": "▶章頭動畫",
            "Text": "搭配章頭主題補充延伸知識，融入先備單元內容，帶出單元概念。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "高年級"
        } ,
        {
            "YT_ID": "GsT9awXLIMA",
            "Title": "▶動態圖解",
            "Text": "搭配計算題獨家製作，解題聚焦提升學習力。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "高年級"
        },
        {
            "YT_ID": "t9Pkonwcdvc",
            "Title": "▶布題解說",
            "Text": "搭配每一個例題全製作，從解題到統整全都有。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "高年級"
        },
        {
            "YT_ID": "7Sehe7qdUok",
            "Title": "▶互動附件",
            "Text": "互動搭配多元題型設計、附件配合需操作附件的題目，大螢幕展示操作最方便。",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "高年級"
        },
        {
            "YT_ID": "wSKiGsaK0eg",
            // "Title": "▶數學工具",
            "Title": "▶GGB", // 3.2修改
            "Text": "搭配新綱5年級全新製作正方體和長方體的展開圖，3D翻轉創造空間概念！",
            "TabImg": "img/bookmark012.png",
            "TabImg_Active": "img/bookmark022.png",
            "TabType": "數學",
            "Type": "高年級"
        },

        {
            "YT_ID": "N0h-KiZiVWU",
            "Title": "▶章首動畫",
            "Text": "章首漫畫動起來！生動、有趣、從課程開始就緊緊抓住學生的心",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "自然"
        },
        {
            "YT_ID": "RibiQ8nITwE",
            "Title": "▶實驗影片",
            "Text": "字卡標記+動態特效，輔助畫面讓實驗流程與細節更加清楚",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "自然"
        },
        {
            "YT_ID": "CdxirgmPAyU",
            "Title": "▶課程影片",
            "Text": "用高清+慢動作+特寫，細緻呈現科學的奧秘",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "自然"
        },
        {
            "YT_ID": "NYkbOE2x9Yg",
            "Title": "▶課程動畫",
            "Text": "虹吸管怎麼運作？以動畫呈現剖面動態，科學原理一目瞭然",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "自然"
        },
        {
            // "YT_ID": "iO7Ek_dT3xQ",
            "YT_ID": "M3EAoznoMk8", // 3.2修改
            "Title": "▶科普素養動畫",
            "Text": "精準的導航與天氣預報是怎麼做到的呢？以動畫認識人類偉大的發明-人造衛星！",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "自然"
        },
        {
            // "YT_ID": "hQ4gzOFA7A0",
            "YT_ID": "b883ndWyZ9Q", // 3.2修改
            "Title": "▶互動",
            "Text": "不同季節的太陽怎麼移動？用互動輕鬆地認識太陽軌跡如何運行！",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "自然"
        },

        {
            // "YT_ID": "xpfQk0LOPek",
            "YT_ID": "n8Sa5_Bi1z8", // 3.2修改
            "Title": "▶3年級獨有：品格動畫",
            "Text": "用生活大小事配合課本內容製作，輕鬆培養學生的品德涵養！",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "社會"
        },
        {
            // "YT_ID": "YK-R0YbHvU4",
            "YT_ID": "E9nqYPSuIH0", // 3.2修改
            "Title": "▶課程引導動畫",
            "Text": "讓課本動起來！生動動畫引起學習動機，輕鬆抓住學習重點",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "社會"
        },
        {
            // "YT_ID": "9b4Etuxcd30",
            "YT_ID": "hyo0CzWgG5Y", // 3.2修改
            "Title": "▶知識點動畫",
            "Text": "以動畫加深加廣說明課本知識點，學習最有力！",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "社會"
        },
        {
            "YT_ID": "2yiPvx7o2fY",
            "YT_ID_2": "VU5dGY9o47E", // 3.2新增
            "Title": "▶互動",
            "Text": "為課本知識點量身打造，搭配各式情境落實課程所學！",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "社會"
        },
        {
            // "YT_ID": "nclfq0iLP8o",
            "YT_ID": "k2YAiBibLGo", // 3.2修改
            "Title": "▶概念歸納動畫",
            "Text": "課文重點搭配豐富、易懂示意圖，快速複習單元的學習重點",
            "TabImg": null,
            "TabImg_Active": null,
            "TabType": null,
            "Type": "社會"
        },

        {
            "YT_ID": "XAE9cMIJR_E",
            "Title": "▶章頭動畫",
            "Text": "怪獸們發生狀況時，是不是有不同的情緒呢？",
            "TabImg": "img/bookmark014.png",
            "TabImg_Active": "img/bookmark051.png",
            "TabType": "綜合",
            "Type": "綜合健體"
        },
        {
            "YT_ID": "Vm8PjMgiLG0",
            "Title": "▶章頭動畫",
            "Text": "怪獸們帶你認識校園中的潛藏危險。",
            "TabImg": "img/bookmark014.png",
            "TabImg_Active": "img/bookmark051.png",
            "TabType": "綜合",
            "Type": "綜合健體"
        },
        {
            "YT_ID": "utdZ581YH3E",
            "Title": "▶教學影片",
            "Text": "小朋友示範如何使用遊戲設施。",
            "TabImg": "img/bookmark015.png",
            "TabImg_Active": "img/bookmark052.png",
            "TabType": "健體",
            "Type": "綜合健體"
        },
        {
            "YT_ID": "HTPriMYItN0",
            "Title": "▶教學影片",
            "Text": "動畫搭配醫師講解，要好好愛護眼睛。",
            "TabImg": "img/bookmark015.png",
            "TabImg_Active": "img/bookmark052.png",
            "TabType": "健體",
            "Type": "綜合健體"
        },
    ]
var Tabs = [];
jQuery(document).ready(function ($) {

    var str = getUrlParameter("t");
    console.log(str);
    var Add = "";
    var AddTabs = "";
    var DoAddTab = true;

    for (var i in Setting) {
        if (Setting[i].Type == str) {
            if (Setting[i].TabType != null) {
                DoAddTab = true;
                Tabs.forEach(item => { if (item.TabType == Setting[i].TabType) { DoAddTab = false; } });
                if (DoAddTab) {
                    var x = {};
                    x.TabImg = Setting[i].TabImg;
                    x.TabImg_Active = Setting[i].TabImg_Active;
                    x.TabType = Setting[i].TabType;
                    Tabs.push(x);
                }
            }
            console.log(Setting[i]);
            var TYID = Setting[i].YT_ID;
            var TYID_2 = Setting[i].YT_ID_2; // 3.2新增

            Add += '<div class="RowContent" type="' + Setting[i].TabType + '">'
            Add += '<div class="row">'
            Add += '  <div class="col-lg-12 divTitle">'
            Add += Setting[i].Title
            Add += '  </div>'
            Add += '</div>'
            Add += '<div class="row">'
            Add += ' <div class="row justify-content-center">'
            Add += '    <div class="col-xl-6 col-lg-12 col-md-12 col-12 divYT">'
            Add += '        <div class="carousel-inner">'
            Add += '            <div class="carousel-item ratio  ratio-16x9 active">'
            Add += '                <iframe src="https://www.youtube.com/embed/' + TYID + '?enablejsapi=1"'
            Add += '                    srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style>'
            Add += '                                <a href=https://www.youtube.com/embed/' + TYID + '?autoplay=1 target=\'_blank\' ><img src=https://img.youtube.com/vi/' + TYID + '/hqdefault.jpg ><span>▶</span></a>"'
            Add += '                    id="' + TYID + '" title="YouTube video player" frameborder="0" allowfullscreen></iframe>'
            Add += '            </div>'
            Add += '        </div>'
            Add += '    </div>'
            Add += '    <div class="col-xl-6  col-lg-12 col-md-12 col-12 divText">'
            Add += Setting[i].Text
            Add += '    </div>'
            
            
            Add += '</div>'
            if (TYID_2) { // 3.2新增
                Add += '<div class="row">'
                Add += ' <div class="row justify-content-center">'
                Add += '    <div class="col-xl-6 col-lg-12 col-md-12 col-12 divYT">'
                Add += '        <div class="carousel-inner">'
                Add += '            <div class="carousel-item ratio  ratio-16x9 active">'
                Add += '                <iframe src="https://www.youtube.com/embed/' + TYID_2 + '?enablejsapi=1"'
                Add += '                    srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style>'
                Add += '                                <a href=https://www.youtube.com/embed/' + TYID_2 + '?autoplay=1 target=\'_blank\' ><img src=https://img.youtube.com/vi/' + TYID_2 + '/hqdefault.jpg ><span>▶</span></a>"'
                Add += '                    id="' + TYID_2 + '" title="YouTube video player" frameborder="0" allowfullscreen></iframe>'
                Add += '            </div>'
                Add += '        </div>'
                Add += '    </div>'
                Add += '    <div class="col-xl-6  col-lg-12 col-md-12 col-12 divText">'
                Add += '    </div>'
                
                
                Add += '</div>'
                
            
            }

            Add += ' <div class="col-xl-12 col-lg-12 col-md-12 col-12 Line">'
            Add += '</div>'
            Add += '</div>'
            Add += '</div>'

        }

    }
    $(".divContent").append(Add);
    if (Tabs.length > 0) {
        for (var i in Tabs) {
            if (i == 0) {
                AddTabs += '<img class="col-4 Tabs"  Img="' + Tabs[i].TabImg + '" ActiveImg="' + Tabs[i].TabImg_Active + '"  src="' + Tabs[i].TabImg_Active + '" type="' + Tabs[i].TabType + '">';
            }
            else {
                AddTabs += '<img class="col-4 Tabs"  Img="' + Tabs[i].TabImg + '" ActiveImg="' + Tabs[i].TabImg_Active + '"  src="' + Tabs[i].TabImg + '" type="' + Tabs[i].TabType + '">';
            }
        }
        $(".ImgTabs").append(AddTabs);


        $(".RowContent[type='" + Tabs[0].TabType + "']").show();

        $(".Tabs").mouseup(function (event) {
            $(".RowContent").hide();
            $(".RowContent[type='" + $(this).attr("type") + "']").show();
            //先都不選
            $(".Tabs").each(function () {
                $(this).attr("src", $(this).attr("Img"));
            });
            $(this).attr("src", $(this).attr("ActiveImg"));
        });
    }
    else{
        $(".RowContent").show();
    }


})

function getUrlParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : sParameterName[1];
        }
    }
};
